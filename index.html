<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Winter AR Spawner</title>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('ar-spawner', {
        init: function () {
          this.el.addEventListener('select', () => {
            const reticle = document.querySelector('#objects');
            const pos = reticle.getAttribute('position');
            
            // Create a new container
            const newEntity = document.createElement('a-entity');
            newEntity.setAttribute('position', {x: pos.x, y: pos.y, z: pos.z});
            newEntity.setAttribute('scale', '0.1 0.1 0.1');

            // Build Snowman
            newEntity.innerHTML = `
              <a-sphere position="0 0.5 0" radius="0.5" color="white"></a-sphere>
              <a-sphere position="0 1.2 0" radius="0.35" color="white"></a-sphere>
              <a-sphere position="0 1.7 0" radius="0.25" color="white"></a-sphere>
              <a-cone position="0 1.7 0.25" rotation="90 0 0" radius-bottom="0.05" height="0.2" color="orange"></a-cone>
            `;
            
            this.el.appendChild(newEntity);
          });
        }
      });
    </script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene
      ar-spawner
      webxr="requiredFeatures: hit-test;"
      ar-hit-test="target: #objects;"
      renderer="colorManagement: true;"
    >
      <a-entity id="objects">
        <a-ring rotation="-90 0 0" radius-inner="0.02" radius-outer="0.03" color="white"></a-ring>
      </a-entity>

      <a-sky color="#87CEEB" hide-on-enter-ar></a-sky>
      
      <a-camera position="0 0.4 0"></a-camera>
    </a-scene>
  </body>
</html>